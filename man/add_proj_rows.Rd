% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/obs.R
\name{add_proj_rows}
\alias{add_proj_rows}
\title{Append projection rows across TAM obs tables}
\usage{
add_proj_rows(obs, n_proj = 3, n_mean = 3, quiet = FALSE)
}
\arguments{
\item{obs}{A named list containing data.frames \code{catch}, \code{index}, \code{weight},
and \code{maturity} with columns \code{year}, \code{age}, \code{obs} (e.g., \link{cod_obs}).}

\item{n_proj}{Integer; number of projection years to append (default \code{3}).}

\item{n_mean}{Integer; number of terminal years to average for \code{obs}
(default \code{3}). Mean \code{obs} values are replicated across \code{is_proj} years
for \code{catch}, \code{weight}, and \code{maturity} tables. Values other than \code{obs}
are not averaged and \code{index$obs} values are \code{NA} across \code{is_proj}
years.}

\item{quiet}{Logical; if \code{FALSE} (default) prints brief messages about what is done.}
}
\value{
The same list structure as \code{obs}, with projection rows (and \code{is_proj})
appended to each core table.
}
\description{
Appends \code{n_proj} projection years to each present table among \code{catch},
\code{index}, \code{weight}, \code{maturity}.
For each table:
\itemize{
\item averages \code{obs} over the last \code{n_mean} years by \code{age};
\item copies all other columns from the terminal year;
\item adds \code{is_proj} column.
}
}
\examples{
data(cod_obs)
max_year <- max(cod_obs$catch$year)
obs2 <- add_proj_rows(cod_obs, n_proj = 3, n_mean = 3)
lapply(obs2, subset, year \%in\% c(max_year, max_year + 1))

}
\seealso{
\code{\link[=check_obs]{check_obs()}}
}
