% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fit.R
\name{fit_retro}
\alias{fit_retro}
\title{Retrospective fits for TAM}
\usage{
fit_retro(fit, folds = 2)
}
\arguments{
\item{fit}{A fitted TAM object as returned by \code{\link[=fit_tam]{fit_tam()}}.}

\item{folds}{Integer number of terminal peels (default \code{2}).}
}
\value{
The input \code{fit} with an added \code{$retro} list whose elements are the
refitted objects for each peel (named by terminal year).
}
\description{
Creates a sequence of terminal-year peels and refits the model on each
truncated year range, attaching the list of refits to \code{fit$retro}.
}
\details{
Run a retrospective (peel) analysis

Peel years are \code{(max_year - folds) : max_year}. Each refit is attempted
with \code{try()} so individual failures do not stop the sequence. Refits are
generated via \code{update(fit, years = ...)}; ensure your \code{fit} object
supports \code{update()} with a \code{years} argument.
}
\examples{
\dontrun{
fit <- fit_tam(northern_cod_data, years = 1983:2024, ages = 2:14)
retros <- fit_retro(fit, folds = 5)
lapply(retros$retro, function(x) x$rep$ssb)
}

}
\seealso{
\code{\link[=fit_tam]{fit_tam()}}, \code{\link[=sim_tam]{sim_tam()}}
}
